---
title: 배포 준비
description:
keywords:
  - 파라체인
  - 릴레이 체인
  - 노드 타입
  - 배포 대상
---

배포를 위해 네트워크 아키텍처를 자세히 살펴보고, 다른 노드를 어떻게 어디에 배포할지, 배포할 인프라 타입, 노드 작업을 관리하기 위해 사용할 커맨드 옵션 등을 고려해야 합니다.
이 섹션에서는 로컬 개발 및 테스트 환경에서 프로덕션으로 이동하기 위한 몇 가지 주요 고려 사항을 강조합니다.

## 노드 역할과 책임

[네트워크와 노드](/learn/node-and-network-types/)에서 설명한 대로, Substrate를 사용하여 솔로 체인이나 파라체인, 개인 네트워크 또는 커스텀 릴레이 체인으로 배포할 수 있습니다.
또한 체인 및 프로젝트 요구 사항에 따라 노드가 다른 역할을 수행할 수 있다는 것을 배웠습니다.

배포를 준비할 때는 다른 타입의 노드가 어떻게 사용되는지를 염두에 두고, 그들의 역할을 수행하는 데 필요한 적절한 하드웨어와 소프트웨어로 구성되도록 설정해야 합니다.
다음 표는 가장 일반적인 노드 타입과 책임을 요약한 것입니다:

| 노드 타입       | 수행하는 작업                                                                                                                                              |
| :------------- | :--------------------------------------------------------------------------------------------------------------------------------------------------------- |
| 검증자 노드    | PoT(Proof-of-Transaction)에 의해 선출되며, 파라체인 콜레이터 노드로부터 검증 증명을 처리하며, 다른 검증자와 함께 합의에 투표합니다.                                |
| 콜레이터 노드  | 파라체인 트랜잭션을 수집하고 검증자를 위해 상태 전이(State Transition) 증명을 생성하여 파라체인을 유지합니다.                                                                 |
| 부트 노드      | 정적 주소와 P2P(`libp2p`) 공개 키를 제공하여 노드를 네트워크의 분산 해시 테이블에 부트스트랩하고 피어 노드를 찾을 수 있도록 합니다.                           |
| RPC 노드       | 릴레이 체인이나 파라체인을 위해 HTTP 또는 WebSocket 포트를 통해 RPC 인터페이스를 노출하여 사용자가 블록체인 상태를 읽고 트랜잭션을 제출할 수 있도록 합니다. 로드 밸런서 뒤에 여러 개의 RPC 노드가 있을 수 있습니다. |
| 아카이브 노드   | 제네시스 블록부터 모든 블록을 유지하며 모든 블록에 대한 완전한 상태를 유지합니다.                                                                             |
| 풀 노드        | 릴레이 체인이나 파라체인과 동기화하여 가장 최신 블록 상태와 이전 블록의 블록 헤더를 저장합니다.                                                             |

### 역할별 커맨드 옵션

노드를 시작하는 데 사용하는 커맨드 설정은 일반적으로 시작하는 노드의 타입을 반영합니다.
예를 들어, 검증자 노드를 시작하는 경우, 블록 유효성 검사를 활성화하기 위해 반드시 `--validator` 커맨드 옵션을 지정해야 합니다.
또한 노드 키를 커맨드을 통해 주입하거나 `author_rotateKeys` RPC 메서드를 호출하여 주입해야 합니다.

콜레이터 노드의 경우, 반드시 `--collator` 커맨드 옵션을 지정하여 파라체인 콜레이션을 활성화해야 합니다.

부트 노드는 P2P 네트워킹을 위한 공개 주소를 항상 동일하게 유지하기 위해 정적 키 파일을 사용합니다.
개인 노드 키를 파일에 저장하고 `--node-key-file` 커맨드 옵션을 사용하여 파일의 경로를 지정해야 합니다.

RPC 노드의 경우, 다음 커맨드 옵션을 지정하여 최대 5000개의 공개 RPC 또는 WebSocket 연결을 허용해야 합니다:

`--unsafe-ws-external`
`--rpc-methods Safe`
`--rpc-cors ‘*’ `
`--ws-max-connections 5000`

노드를 아카이브 노드로 설정하려면, 블록 상태를 폐기하지 않도록 `-–pruning=archive` 커맨드 옵션을 지정해야 합니다.

## 파라체인 특정 구문

파라체인 노드의 경우, 두 개의 커맨드 옵션 세트를 지정해야 합니다.
첫 번째 커맨드 옵션 세트는 파라체인에 적용되고, 두 번째 커맨드 옵션 세트는 파라체인과 병렬로 실행되는 로컬 릴레이 체인에 적용됩니다.
예를 들어:

```
./statemine $PARACHAIN_OPTIONS -- $RELAYCHAIN_OPTIONS
```

다음 명령은 Statemine 콜레이터 노드를 시작하는 예시입니다:

```bash
./statemine  --chain statemine --in-peers 25 --out-peers 25 --db-cache 512 --pruning=1000 --unsafe-pruning -- --chain kusama -db-cache 512 --pruning=1000 --wasm-execution Compiled
```

## 일반적인 배포 대상

네트워크 토폴로지를 정의하는 노드를 배포하는 방법은 다양하며, 각각의 배포 시나리오에는 다른 하드웨어와 소프트웨어 요구 사항이 있습니다.
다음 표는 일반적인 배포 대상의 비완전한 목록을 제공합니다:

| 타입               | 설명                                                                                                                                                                                                                           |
| ------------------ | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| 물리적 서버        | 물리적 하드웨어는 일반적으로 데이터 센터에 설치된 랙 마운트 서버로 배포됩니다.                                                                                                                                                   |
| 가상 머신          | 가상 하드웨어는 클라우드 제공자 플랫폼이나 자체 호스팅된 온사이트에서 호스팅되는 가상 이미지로 배포됩니다.                                                                                                                         |
| Kubernetes 클러스터 | Kubernetes는 블록체인 인스턴스를 호스팅하는 데 사용할 수 있는 컨테이너 오케스트레이션 엔진입니다. 이 옵션은 이미 Kubernetes에 대한 이전 경험이 있는 경우에만 권장되며, 특히 프로덕션 환경에서 권장됩니다.                                 |
| 로컬 컨테이너      | `containerd`, Docker, Pod Manager와 같은 로컬 컨테이너 엔진은 Kubernetes보다 간단한 컨테이너화 서비스를 제공하며, 노드 이미지를 생성하고 배포하는 데 사용할 수 있습니다.                                                      |