---
title: 모니터
description: Substrate 노드와 Polkadot 생태계의 기본 텔레메트리 개요를 제공합니다.
keywords:
---

네트워크 운영과 성능 모니터링은 건강하고 안정적이며 안전한 생태계를 유지하는 데 중요한 역할을 합니다.
기본적으로 Substrate 노드는 각 노드의 작동에 대한 자세한 정보를 자동으로 수집하고 전송하는 **텔레메트리** 구성 요소를 제공합니다.
백엔드 텔레메트리 정보는 실시간으로 엔드포인트로 스트리밍되어 시스템 동작을 관찰, 모니터링 및 경고할 수 있습니다.

개발자나 노드 운영자로서 컴퓨터와 네트워크 작동에 대한 이러한 저수준 텔레메트리 구성 요소가 정보를 제공하는 방식에 대한 구현 세부 정보를 알 필요는 거의 없습니다.
높은 수준에서는 각 공개 노드에서 수집된 정보가 기본 텔레메트리 서버로 전송되어 전면 대시보드에 집계되어 표시됩니다.

다음 다이어그램은 워크플로우의 단순화된 개요를 제공합니다.

![Substrate 노드의 기본 텔레메트리](/media/images/docs/telemetry-overview.png)

## 텔레메트리 데이터 보기

[Polkadot 텔레메트리](https://telemetry.polkadot.io/) 대시보드는 현재 온라인 상태인 노드의 성능을 실시간으로 보여줍니다.
사용 가능한 열 목록에서 표시할 정보를 선택하여 원하는 정보를 표시할 수 있습니다.

열 목록을 보려면 **설정**을 클릭하세요.

![표시할 열 수정을 위해 설정을 클릭하세요](/media/images/docs/list-view-control.png)

토글할 수 있는 열은 다음과 같습니다:

- **Validator**: 다른 노드와 구분하기 위한 검증자 노드를 표시합니다.
- **Location**: 노드의 위치를 표시합니다.
- **Implementation**: 노드에서 실행 중인 소프트웨어 버전을 표시합니다.
- **Network ID**: 노드의 공개 네트워크 식별자를 표시합니다.
- **Peer Count**: 노드에 연결된 피어 수를 표시합니다.
- **Transactions in Queue**: 블록 작성자를 기다리는 준비 큐에 대기 중인 트랜잭션 수를 표시합니다.
- **Upload Bandwidth**: 최근 업로드 활동의 그래프를 초당 MB로 표시합니다.
- **Download Bandwidth**: 최근 다운로드 활동의 그래프를 초당 MB로 표시합니다.
- **State Cache Size**: 상태 캐시 크기의 그래프를 MB로 표시합니다.
- **Block**: 노드의 현재 최상의 블록 번호를 표시하여 피어와 동기화되고 있는지 확인합니다.
- **Block Hash**: 노드의 현재 최상의 블록 번호에 대한 블록 해시를 표시합니다.
- **Finalized Block**: 노드의 가장 최근에 최종화된 블록 번호를 표시하여 피어와 동기화되고 있는지 확인합니다.
- **Finalized Block Hash**: 노드의 가장 최근에 최종화된 블록 번호에 대한 블록 해시를 표시합니다.
- **Block Time**: 블록 간의 실행 시간을 표시합니다.
- **Block Propagation Time**: 가장 최근 블록을 가져오는 데 걸린 시간을 표시합니다.
- **Last Block Time**: 가장 최근 블록을 생성하는 데 걸린 시간을 표시합니다.
- **Node Uptime**: 노드가 재시작되지 않고 온라인 상태로 유지된 일 수를 표시합니다.

### 노드 정보 고정

대시보드 목록에 표시된 노드에 대한 정보를 고정하여 항상 볼 수 있습니다.
예를 들어, 다른 노드의 정보가 스크롤되는 동안 두 개의 노드 정보를 고정하려면 목록에서 노드를 선택하고 정보를 고정하면 됩니다.

![선택한 노드의 정보를 표시하도록 유지](/media/images/docs/pin-nodes.png)

### 지도에 노드 표시

노드 목록 대신 전역 지도에 노드를 표시할 수도 있습니다.
지도는 노드의 위치, 실시간으로 생성 및 가져오는 블록, 지리적으로 노드가 더 많이 집중된 지역을 시각적으로 표시합니다.
알려진 위치가 있는 노드만 지도에 표시됩니다.

지도로 표시하려면 **지도**를 클릭하세요.

![전역 지도에 노드 표시](/media/images/docs/node-map-view.png)

이 보기에서는 지도에서 노드 위치 위로 마우스를 올리면 노드의 일부 정보를 표시할 수 있습니다. 노드 이름, 위치, 최상의 블록 번호, 최상의 블록 해시 및 블록 시간 통계를 포함합니다.

### 노드 통계 표시

개별 노드에 대한 정보 외에도 특정 속성을 공유하는 노드의 수와 백분율을 나타내는 통계를 볼 수 있습니다.
예를 들어, Polkadot의 각 릴리스를 사용하는 노드의 백분율, Linux 운영 체제를 사용하는 노드의 백분율 및 현재 배포된 가장 일반적인 배포판에 대한 통계를 볼 수 있습니다.
네트워크의 노드에서 CPU 및 메모리 구성에 대한 통계도 볼 수 있습니다.

사용 가능한 통계 전체를 보려면 **통계**를 클릭하세요.

![노드 간 통계 보기](/media/images/docs/node-statistics.png)

사용 가능한 통계에는 네트워크의 노드에서 실행 중인 하드웨어 및 소프트웨어에 대한 세부 정보가 포함됩니다:

- 소프트웨어 버전.
- 운영 체제.
- CPU 아키텍처 및 모델.
- 물리적 CPU 코어 수.
- 총 메모리.
- 노드가 가상 머신인지 여부.
- Linux 배포판 및 커널 버전.
- CPU 및 메모리 속도.
- 디스크 속도.

### 체인별로 필터링

기본적으로 텔레메트리 대시보드는 Polkadot에 대한 정보를 표시하며 다른 체인에 대한 빠른 링크를 제공합니다.
다른 체인의 정보를 표시하려면 **더 보기**를 클릭하고 다른 체인을 선택하세요.

![다른 체인 선택](/media/images/docs/more-chains.png)

## 모니터링 스택 사용자 정의

기본 텔레메트리 대시보드는 백엔드 모니터링이나 프론트엔드 서비스를 호스팅하거나 구성할 필요 없이 노드 및 체인 작동 상태를 볼 수 있습니다.
하지만 많은 프로젝트에서는 기본 텔레메트리 서버를 자체 백엔드 서버와 프론트엔드 대시보드로 보완하거나 대체하는 것을 선택합니다.

일반적으로 자체 텔레메트리 서버를 설정하는 것은 **체인 이벤트** 및 개별 **노드 작동**에 대한 모니터링 및 경고 정책을 설정하는 것을 의미합니다.

### 체인 활동

특정 이벤트(예: 특정 주소에서 제출된 트랜잭션, 현재 검증자 집합 변경)에 대한 체인 활동을 모니터링할 수 있습니다.
체인 모니터링은 일반적으로 특정 값을 확인하거나 처리 지연을 식별하거나 이벤트의 타이밍을 추적하기 위해 RPC 노드에 연결하는 것을 의미합니다.
대부분의 경우 모든 호스트의 요청을 처리하기 위해 두 개의 RPC 인스턴스만 필요합니다.
그러나 공개 RPC 노드에 문제가 발생할 경우 이러한 요청을 처리하기 위해 자체 RPC 서버를 실행하는 것이 좋습니다.
온체인 정보를 쿼리하는 응용 프로그램의 예로는 [polkabot](https://gitlab.com/Polkabot/polkabot)과 [polkadot-basic-notification](https://github.com/paritytech/polkadot-basic-notification)이 있습니다.

### 노드 작동

네트워크에서 실행하는 각 노드를 모니터링하여 현재 블록 높이, 피어 간 연결 수, CPU 사용량 및 사용 가능한 무료 메모리와 같은 작동에 대한 기본 정보를 모니터링해야 합니다.
기본적으로 Substrate는 `host:9615/metrics` 엔드포인트에서 많은 유용한 메트릭을 노출합니다.
예를 들어, Substrate가 로컬에서 실행 중인 경우 http://localhost:9615/metrics 엔드포인트에서 메트릭을 볼 수 있습니다.<!-- markdown-link-check-disable-line -->
이 엔드포인트는 간단한 키-값 형식으로 메트릭을 출력합니다.
예를 들어:

```text
polkadot_database_cache_bytes 0
```

그러나 키에는 설명적인 태그도 포함될 수 있습니다.
예를 들어:

```text
susbtrate_block_height{status="best"} 136
susbtrate_block_height{status="finalized"} 133
```

기본적으로 [메트릭](http://localhost:9615/metrics) 엔드포인트는 로컬 네트워크 인터페이스에서만 노출됩니다.<!-- markdown-link-check-disable-line -->
그러나 노드를 시작할 때 `--prometheus-external` 커맨드라인 옵션을 사용하여 모든 인터페이스에서 노출할 수 있습니다.

### 모니터링 도구 구성

모니터링 및 경고 정책을 설정하려면 일반적으로 일련의 도구를 구성하여 자체 모니터링 스택을 만듭니다.
예를 들어, 기본 `metrics` 엔드포인트에는 CPU, 메모리, 대역폭 사용량과 같은 호스트 메트릭이 포함되어 있지 않으므로 각 호스트에 Prometheus [node_exporter](https://github.com/prometheus/node_exporter)를 설치하여 보완할 수 있습니다.
다음 다이어그램은 모니터링 스택으로 자주 사용되는 오픈 소스 도구 세트를 보여줍니다.

![모니터링 스택 계층](/media/images/docs/monitoring-stack.png)

이 다이어그램에서는 스택의 각 계층에 대해 다른 도구가 사용됩니다.
이 예에서는 다음 도구가 체인 활동 및 노드 작동에 대한 모니터링에 구성됩니다:

- Prometheus는 지정된 대상에서 지정된 간격으로 메트릭을 수집하고 정의한 규칙을 사용하여 수집한 데이터를 평가하는 모니터링 엔진입니다. 시계열 데이터베이스는 매우 빠르게 액세스할 수 있는 대량의 데이터를 보유할 수 있습니다.
- Grafana는 대시보드와 그래프를 통해 수집한 데이터를 쿼리, 시각화 및 분석할 수 있는 관찰성 플랫폼입니다.
- Node exporter는 포트에서 수신하고 Prometheus에 응용 프로그램별 메트릭을 보고하는 프로세스입니다.
- Alertmanager는 지정한 규칙에 따라 경고를 생성하고 라우팅할 수 있는 도구입니다. Alertmanager를 사용하면 경고가 발생했을 때 어떻게 및 어디로 경고를 보낼지 구성할 수 있습니다. 예를 들어, 경고 알림에 대해서는 즉시 메시지를 보내고, 중요한 경고에 대해서는 담당자에게 전화를 걸 수 있습니다.
- Loki는 인프라의 모든 구성 요소에서 로그를 보고 검색할 수 있는 확장 가능한 로그 집계 시스템입니다.

Prometheus, Grafana 및 node exporter를 사용하여 노드 모니터링을 설정하는 간단한 예제는 [노드 메트릭 모니터링](/tutorials/build-a-blockchain/monitor-node-metrics/)을 참조하세요.
Loki를 사용하는 간단한 예제는 [원격 로깅](/deploy/deployment-options/#remote-logging)을 참조하세요.

### 텔레메트리 서버 변경

노드의 백엔드 모니터링 규칙을 구성한 후에는 노드를 시작할 때 `--telemetry-url` 커맨드라인 옵션을 사용하여 텔레메트리 데이터를 전송할 텔레메트리 서버를 지정할 수 있습니다.
여러 개의 텔레메트리 엔드포인트를 지정하려면 이 옵션을 여러 번 전달할 수 있습니다.
`--telemetry-url` 커맨드라인 옵션을 지정하면 메트릭의 상세 정도를 지정해야 합니다. 레벨 0은 가장 간단한 메트릭을 의미하고 레벨 9는 가장 자세한 메트릭을 의미합니다.

예를 들어, 자체 텔레메트리 서버 URL을 5의 상세 정도로 지정하려면 다음과 유사한 명령을 실행하면 됩니다:

```bash
./target/release/node-template --dev \
  --telemetry-url "wss://192.168.48.1:9616 5" \
  --prometheus-port 9616 \
  --prometheus-external
```

텔레메트리의 백엔드 구성 요소 또는 자체 서버 구성에 대한 자세한 정보는 [substrate-telemetry](https://github.com/paritytech/substrate-telemetry) 또는 Kubernetes 배포용 [telemetry helm 차트](https://github.com/paritytech/helm-charts/tree/main/charts/substrate-telemetry)를 참조하세요.

## 텔레메트리 비활성화

텔레메트리는 기본적으로 모든 글로벌 체인 노드에 대해 활성화됩니다.
노드가 Substrate 텔레메트리 서버에 연결되지 않도록 하려면 `--no-telemetry` 커맨드라인 옵션을 사용할 수 있습니다.
예를 들어, 텔레메트리 데이터를 기본 텔레메트리 서버로 전송하지 않으려면 다음과 유사한 명령을 실행하면 됩니다:

```bash
./target/release/node-template --chain myCustomChain \
  --no-telemetry
```
